<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>The Portfolio of Owen Denver Emerson</title>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  html, body {
    height: 100%;
    width: 100%;
    font-family: 'IBM Plex Sans', 'Inter', system-ui, Arial, sans-serif;
    overflow: hidden;
    background: linear-gradient(to bottom, #bfe5ff 0%, #eaf7ff 80%);
    transition: background 0.4s ease, color 0.4s ease;
  }

  .cloud { position:absolute; height:16px; background:rgba(255,255,255,0.9); z-index:1; animation:float 40s linear infinite; }
  .cloud::before, .cloud::after { content:""; position:absolute; height:100%; background:inherit; }
  .cloud.small { top:8%; left:-20%; width:120px; animation-duration:38s; }
  .cloud.small::before { left:140px; width:80px; }
  .cloud.small::after { left:240px; width:60px; }
  .cloud.large { top:18%; left:-30%; width:180px; animation-duration:52s; animation-delay:-6s; }
  .cloud.large::before { left:200px; width:100px; }
  .cloud.large::after { left:320px; width:80px; }
  @keyframes float { from { transform: translateX(0); } to { transform: translateX(130vw); } }

  .folder-back {
    position:absolute; bottom:0; left:0; width:100%; height:86%;
    background:linear-gradient(to bottom,#e9d79a 0%,#e2c97f 100%);
    z-index:2; border-top:2px solid rgba(0,0,0,0.12);
  }

  .paper {
    position:absolute; top:15%; left:0; width:100%; height:5%;
    background:#fff; z-index:3; border-top:1px solid rgba(0,0,0,0.1);
    border-bottom:1px solid rgba(0,0,0,0.1);
  }

  .folder-front {
    position:absolute; bottom:0; left:0; width:100%; top:20%;
    background:linear-gradient(to bottom,#f5e0a1 0%,#f2d58b 100%);
    z-index:4; border-top:2px solid rgba(0,0,0,0.2);
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    padding:4%;
  }

  .tabs { position:absolute; top:6%; left:0; width:100%; display:flex; gap:1%; padding-left:2%; align-items:flex-end; z-index:5; }
  .tab { flex:0 0 18%; height:8vh; display:flex; align-items:center; justify-content:center;
         border:2px solid rgba(0,0,0,0.18); font-weight:700; letter-spacing:0.05em; text-transform:uppercase;
         cursor:pointer; transition:background 0.25s ease, transform 0.15s ease; border-radius:0 !important; }
  .tab button{ all:unset; width:100%; height:100%; text-align:center; cursor:pointer; border-radius:0 !important; }
  .tab.manila{ background:#f7e9b8; color:#3a2f09; }
  .tab.green{ background:#cfeec7; color:#1f4d2b; border:2px solid #aac3a3; }
  .tab.pink{ background:#f7cfcf; color:#5a3131; }
  .tab:hover{ transform:translateY(-2px); } .tab:active{ transform:translateY(0); }

  /* --- NAV GRID --- */
  .nav-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(2, 1fr);
    gap: 2%;
    width: 100%;
    height: 100%;
  }
  .nav-box {
    background: #cfeec7;
    color: #1f4d2b;
    border: 2px solid #aac3a3;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 1.1rem;
    text-align: center;
    text-decoration: none;
    letter-spacing: 0.03em;
    transition: transform 0.15s ease, background 0.25s ease;
  }
  .nav-box:hover {
    transform: translateY(-3px);
    background: #b9e3ae;
  }

  @media (max-width: 900px) {
    .nav-grid { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(4, 1fr); }
  }

  .house-image {
    position: absolute;
    right: 6%;
    bottom: calc(100% - var(--folder-back-top, 14vh)); 
    height: 15vh;
    z-index: 9;
    pointer-events: auto;
    cursor: pointer;
  }
  .house-image:active { transform: scale(0.96); }
  .folder-back { --folder-back-top: 13.5vh; }

  @media (max-width: 768px) {
    .house-image { right: 4%; height: 10vh; bottom: calc(100% - var(--folder-back-top, 12.6vh)); }
  }

  body.dark-mode {
    background: linear-gradient(to bottom, #0d0d0d 0%, #1a1a1a 80%);
    color: #f5f5f5;
  }
  body.dark-mode .cloud { background: rgba(255,255,255,0.15); }
  body.dark-mode .folder-back {
    background: linear-gradient(to bottom,#222,#111);
    border-top: 2px solid rgba(255,255,255,0.1);
  }
  body.dark-mode .folder-front {
    background: linear-gradient(to bottom,#333,#1f1f1f);
    border-top: 2px solid rgba(255,255,255,0.15);
  }
  body.dark-mode .nav-box {
    background:#1c1c1c; color:#ddd; border:1px solid #555;
  }
  body.dark-mode .tab.manila { background:#2a2a2a; color:#eee; }
  body.dark-mode .tab.green  { background:#1c1c1c; color:#ddd; }
  body.dark-mode .tab.pink   { background:#202020; color:#ccc; }
  body.dark-mode .paper { background:#444; border-color:#666; }
</style>
</head>

<body>
  <div class="cloud small" aria-hidden="true"></div>
  <div class="cloud large" aria-hidden="true"></div>
  <div class="folder-back" aria-hidden="true"></div>

  <img src="my_assets/Drawing (1).png" alt="House illustration" class="house-image" id="houseButton" onclick="toggleHouseImage()" />
  <audio id="cricketsAudio" src="my_assets/classiccrickets.wav" loop></audio>
  <audio id="doorbellSfx" src="my_assets/doorbell.mp3" preload="auto"></audio>

  <div class="tabs">
    <a href="index.html" class="tab manila">About</a>
    <a href="work.html" class="tab green">Work</a>
    <a href="contact.html" class="tab pink">Contact</a>
  </div>

  <audio id="clickSfx" src="my_assets/click.mp3" preload="auto"></audio>

  <div class="paper" aria-hidden="true"></div>

  <div class="folder-front">
    <div class="nav-grid">
      <a href="ShortStories.html" class="nav-box">Short Stories</a>
      <a href="Music.html" class="nav-box">Music</a>
      <a href="Photography.html" class="nav-box">Photography</a>
      <a href="AnimationsDigitalArt.html" class="nav-box">Animations/Digital Art</a>
      <a href="GraphicDesign.html" class="nav-box">Graphic Design</a>
      <a href="ADigitalEpiphany.html" class="nav-box">A Digital Epiphany</a>
      <a href="VirtualOrganology.html" class="nav-box">Virtual Organology of the American Southeast [coming soon]</a>
      <a href="Blog.html" class="nav-box">Blog [coming soon]</a>
    </div>
  </div>

  <script>
  // âœ… Load persisted dark mode on startup
  document.addEventListener("DOMContentLoaded", () => {
    const isDark = localStorage.getItem("darkModeEnabled") === "true";
    if (isDark) document.body.classList.add("dark-mode");
  });

  document.addEventListener('DOMContentLoaded', () => {
    const a = document.getElementById('cricketsAudio');
    if (a) a.volume = 0.35;
  });

  (function(){
    const SPRITES = {
      light: { normal: "my_assets/Drawing (1).png", click: "my_assets/Drawing (2).png" },
      dark:  { normal: "my_assets/Drawing (1)BW.png", click: "my_assets/Drawing (2)BW.png" }
    };
    function setHouseSpriteForMode() {
      const house = document.getElementById("houseButton");
      if (!house) return;
      const isDark = document.body.classList.contains("dark-mode");
      house.src = isDark ? SPRITES.dark.normal : SPRITES.light.normal;
    }
    window.setHouseSpriteForMode = setHouseSpriteForMode;

    window.toggleHouseImage = function toggleHouseImage() {
      const house = document.getElementById("houseButton");
      const audio = document.getElementById("cricketsAudio");
      const doorbell = document.getElementById("doorbellSfx");
      const isDark = document.body.classList.contains("dark-mode");

      if (doorbell) {
        try { doorbell.currentTime = 0; doorbell.play(); } catch(e){}
      }

      house.src = isDark ? SPRITES.dark.click : SPRITES.light.click;

      setTimeout(() => {
        const nowDark = document.body.classList.toggle("dark-mode");
        if (audio) {
          try {
            if (nowDark) { audio.currentTime = 0; audio.play(); }
            else { audio.pause(); audio.currentTime = 0; }
          } catch(e){}
        }
        // Persist dark mode setting
        localStorage.setItem("darkModeEnabled", document.body.classList.contains("dark-mode"));
        house.src = nowDark ? SPRITES.dark.normal : SPRITES.light.normal;
      }, 1000);
    };
    document.addEventListener("DOMContentLoaded", setHouseSpriteForMode);
  })();

  (function(){
    const clickSfx = document.getElementById('clickSfx');
    const anchors  = document.querySelectorAll('.tabs a, .nav-box');
    function stopAllSfx(){
      [clickSfx, document.getElementById('doorbellSfx')].forEach(a => {
        if (a){ try { a.pause(); a.currentTime = 0; } catch(_){} }
      });
    }
    window.addEventListener('pagehide', stopAllSfx);
    document.addEventListener('visibilitychange', () => {
      if (document.visibilityState === 'hidden') stopAllSfx();
    });
    window.addEventListener('pageshow', () => stopAllSfx());
    anchors.forEach(a => {
      a.addEventListener('click', (e) => {
        if (e.defaultPrevented || e.button !== 0 || e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) return;
        e.preventDefault();
        const href = a.getAttribute('href');
        let navigated = false;
        const go = () => { if (!navigated) { navigated = true; window.location.href = href; } };
        if (clickSfx) {
          try {
            clickSfx.currentTime = 0;
            const p = clickSfx.play();
            if (p && typeof p.then === 'function') {
              p.then(() => setTimeout(go, 120)).catch(() => setTimeout(go, 80));
            } else { setTimeout(go, 120); }
          } catch(_) { setTimeout(go, 80); }
        } else { go(); }
      }, { capture: true });
    });
  })();
  </script>
</body>
</html>

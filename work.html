<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Work - Owen Denver Emerson</title>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- Black wipe transition (only triggers on [data-transition] links) -->
<link rel="stylesheet" href="my_assets/transition.css">
<script src="my_assets/transition.js" defer></script>

<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  html, body {
    height: 100%;
    width: 100%;
    font-family: 'IBM Plex Sans', system-ui, sans-serif;
    overflow: hidden;
    background: linear-gradient(to bottom,#bfe5ff 0%,#eaf7ff 80%);
    transition: background 0.4s ease, color 0.4s ease;
  }

  /* Layers */
  .folder-back {
    position:absolute; bottom:0; left:0; width:100%; height:86%;
    background:linear-gradient(to bottom,#e9d79a 0%,#e2c97f 100%);
    z-index:2; border-top:2px solid rgba(0,0,0,0.12);
    --folder-back-top: 13.5vh;
  }
  .paper {
    position:absolute; top:15%; left:0; width:100%; height:5%;
    background:#fff; z-index:3; border-top:1px solid rgba(0,0,0,0.1);
    border-bottom:1px solid rgba(0,0,0,0.1);
  }
  .folder-front {
    position:absolute; bottom:0; left:0; width:100%; top:20%;
    background:linear-gradient(to bottom,#f5e0a1 0%,#f2d58b 100%);
    z-index:4; display:flex; flex-direction:column; align-items:center; justify-content:center;
    padding:4%;
  }

  /* Tabs */
  .tabs { position:absolute; top:6%; left:0; width:100%; display:flex; gap:1%; padding-left:2%; align-items:flex-end; z-index:5; }
  .tab {
    flex:0 0 18%; height:8vh; display:flex; align-items:center; justify-content:center;
    border:2px solid rgba(0,0,0,0.18); font-weight:700; letter-spacing:0.05em; text-transform:uppercase;
    cursor:pointer; border-radius:0; transition:background 0.25s ease, transform 0.15s ease;
    text-decoration: underline; text-underline-offset: 1px;
  }
  .tab.manila{ background:#f7e9b8; color:#3a2f09; }
  .tab.green { background:#cfeec7; color:#1f4d2b; border:2px solid #aac3a3; }
  .tab.pink  { background:#f7cfcf; color:#5a3131; }
  .tab:hover { transform:translateY(-2px); text-decoration: underline; }

  /* Grid of buttons */
  .nav-grid{
    display:grid;
    grid-template-columns:repeat(4,1fr);
    grid-template-rows:repeat(2,1fr);
    gap:2%;
    width:100%;
    height:100%;
  }
  .nav-box{
    background:#cfeec7; color:#1f4d2b; border:2px solid #aac3a3;
    display:flex; align-items:center; justify-content:center;
    font-weight:600; font-size:1.1rem; text-align:center; letter-spacing:0.03em;
    transition:transform 0.15s ease, background 0.25s ease;
    cursor:pointer; text-decoration:none;
  }
  .nav-box:hover{ transform:translateY(-3px); background:#b9e3ae; }

  /* House (dark-mode toggle) */
  .house-image {
    position:absolute;
    right:6%;
    bottom: calc(100% - var(--folder-back-top, 14vh));
    height:15vh;
    z-index:9;
    cursor:pointer;
    pointer-events:auto;
  }
  .house-image:active { transform:scale(0.96); }

  /* Responsive */
  @media (max-width:900px){
    .nav-grid{ grid-template-columns:repeat(2,1fr); grid-template-rows:repeat(4,1fr); }
  }
  @media (max-width:768px){
    .house-image { right:4%; height:10vh; bottom: calc(100% - var(--folder-back-top, 12.6vh)); }
  }

  /* Dark mode palette */
  body.dark-mode {
    background:linear-gradient(to bottom,#0d0d0d 0%, #1a1a1a 80%);
    color:#f5f5f5;
  }
  body.dark-mode .folder-back {
    background:linear-gradient(to bottom,#222,#111);
    border-top:2px solid rgba(255,255,255,0.1);
  }
  body.dark-mode .folder-front { background:linear-gradient(to bottom,#333,#1f1f1f); }
  body.dark-mode .paper { background:#444; border-top:1px solid #666; border-bottom:1px solid #666; }
  body.dark-mode .tab.manila { background:#2a2a2a; color:#eee; }
  body.dark-mode .tab.green  { background:#1c1c1c; color:#ddd; border-color:#444; }
  body.dark-mode .tab.pink   { background:#202020; color:#ccc; }
  body.dark-mode .tab { text-decoration: underline; }
  body.dark-mode .nav-box    { background:#1c1c1c; color:#ddd; border:1px solid #555; }
</style>
</head>
<body>
  <!-- Layers -->
  <div class="folder-back"></div>
  <div class="paper"></div>

  <!-- Tabs -->
  <div class="tabs">
    <a href="index.html" class="tab manila">Home</a>
    <a href="work.html" class="tab green">Work</a>
    <a href="contact.html" class="tab pink">About</a>
  </div>

  <!-- House toggle + audio -->
  <img src="my_assets/Drawing (1).png" alt="House" class="house-image" id="houseButton" onclick="toggleHouseImage()" />
  <audio id="cricketsAudio" src="my_assets/classiccrickets.wav" loop></audio>
  <audio id="doorbellSfx" src="my_assets/doorbell.mp3" preload="auto"></audio>
  <audio id="clickSfx" src="my_assets/click.mp3" preload="auto"></audio>
  <audio id="pageTurnSfx" src="my_assets/pageturn.mp3" preload="auto"></audio>

  <!-- Grid -->
  <div class="folder-front">
    <div class="nav-grid">
      <!-- click.mp3 only -->
      <a href="ShortStories.html" class="nav-box" data-sound="click">Short Stories</a>
      <a href="Music.html" class="nav-box" data-sound="click">Music</a>
      <a href="Photography.html" class="nav-box" data-sound="click">Photography</a>

      <!-- pageturn.mp3 + black transition -->
      <a href="animations_digital_art_1__clean/animations_digital_art_1__clean.html" class="nav-box" data-transition data-sound="pageturn">Animations/Digital Art</a>
      <a href="graphic_design_clean/graphic_design_clean.html" class="nav-box" data-transition data-sound="pageturn">Graphic Design</a>
      <a href="a_digital_epiphany_4__clean/a_digital_epiphany_4__clean.html" class="nav-box" data-transition data-sound="pageturn">A Digital Epiphany</a>

      <!-- normal placeholders -->
      <a href="VirtualOrganology.html" class="nav-box">Virtual Organology of the American Southeast (coming soon)</a>
      <a href="Blog.html" class="nav-box">Blog (coming soon)</a>
    </div>
  </div>

<script>
/* ---- persistent dark mode + crickets (unchanged) ---- */
document.addEventListener("DOMContentLoaded",()=>{
  const isDark = localStorage.getItem("darkModeEnabled")==="true";
  const cricketsShouldPlay = localStorage.getItem("cricketsPlaying")==="true";
  if(isDark) document.body.classList.add("dark-mode");
  const crickets = document.getElementById("cricketsAudio");
  if(crickets && cricketsShouldPlay){ try{ crickets.volume = 0.35; crickets.play(); }catch(e){} }
});

(function(){
  const SPRITES = {
    light: { normal:"my_assets/Drawing (1).png", click:"my_assets/Drawing (2).png" },
    dark:  { normal:"my_assets/Drawing (1)BW.png", click:"my_assets/Drawing (2)BW.png" }
  };
  function setHouseSpriteForMode(){
    const h=document.getElementById("houseButton"); if(!h) return;
    const d=document.body.classList.contains("dark-mode");
    h.src = d ? SPRITES.dark.normal : SPRITES.light.normal;
  }
  window.setHouseSpriteForMode = setHouseSpriteForMode;

  window.toggleHouseImage = function(){
    const h=document.getElementById("houseButton");
    const c=document.getElementById("cricketsAudio");
    const d=document.getElementById("doorbellSfx");
    const isDark=document.body.classList.contains("dark-mode");
    if(d){ try{ d.currentTime=0; d.play(); }catch(e){} }
    if(h) h.src = isDark ? SPRITES.dark.click : SPRITES.light.click;
    setTimeout(()=>{
      const nowDark = document.body.classList.toggle("dark-mode");
      if(c){ try{ if(nowDark){ c.currentTime=0; c.play(); } else { c.pause(); c.currentTime=0; } }catch(e){} }
      localStorage.setItem("darkModeEnabled", document.body.classList.contains("dark-mode"));
      localStorage.setItem("cricketsPlaying", nowDark ? "true":"false");
      if(h) h.src = nowDark ? SPRITES.dark.normal : SPRITES.light.normal;
    },1000);
  };
  document.addEventListener("DOMContentLoaded", setHouseSpriteForMode);
})();

/* ---- click vs page-turn + transition wiring ---- */
document.addEventListener("DOMContentLoaded",()=>{
  const clickSfx = document.getElementById("clickSfx");
  const pageTurn = document.getElementById("pageTurnSfx");

  document.querySelectorAll(".nav-box").forEach(box=>{
    box.addEventListener("click",(e)=>{
      const href = box.getAttribute("href");
      if(!href) return;
      e.preventDefault();

      const soundType = box.dataset.sound; // "click" | "pageturn" | undefined
      const audio = soundType==="pageturn" ? pageTurn : clickSfx;

      const afterDelay = soundType==="pageturn" ? 900 : 250;
      const go = ()=>{ window.location.href = href; };

      // helper to play requested sound then callback
      const playThen = (cb)=>{
        try{
          if(!audio){ cb(); return; }
          audio.currentTime = 0;
          const p = audio.play();
          if(p && typeof p.then==="function"){
            p.then(()=>setTimeout(cb, afterDelay)).catch(()=>cb());
          } else { setTimeout(cb, afterDelay); }
        }catch(_){ cb(); }
      };

      if(box.hasAttribute("data-transition")){
        // pageturn + black wipe
        playThen(()=>{ document.body.dispatchEvent(new CustomEvent('startTransition',{detail:{href}})); });
      } else {
        // simple click sound + normal navigation
        playThen(go);
      }
    });
  });
});
</script>
</body>
</html>
